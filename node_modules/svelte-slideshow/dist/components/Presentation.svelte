<script>import { onMount } from "svelte";
export let config = void 0;
export let height = "100%";
export let width = "100%";
let el;
let RevealJs;
let api;
try {
  if (import.meta.hot) {
    import.meta.hot.on("vite:afterUpdate", () => {
      reInit();
    });
  }
} catch (error) {
  console.warn(error, "nevermind");
}
$:
  if (config && typeof window != "undefined" && api)
    reInit();
const init = () => {
  if (config) {
    if (!Object.keys(config).length)
      config = void 0;
  }
  api = new RevealJs(el, config);
  api.initialize();
};
const reInit = () => {
  api.destroy();
  init();
};
onMount(async () => {
  RevealJs = (await import("reveal.js")).default;
  init();
});
</script>

<div bind:this={el} style:height style:width class="reveal">
	<div class="slides">
		<slot />
	</div>
</div>
